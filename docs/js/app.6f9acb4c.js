(function(){"use strict";var e={7137:function(e,t,o){var s=o(5130),a=o(657),l=(o(8111),o(7588),o(6768)),r=o(4232),n=o(144);const i=(0,a.nY)({id:"story",state:()=>({counter:0,storyId:0,story:[],group:[],groupState:"",playState:"play",isWrap:!1,askInstall:!0,detectErrPassage:!0,innerHeight:0,playedStory:[],codeDarkTheme:!0,theme:"business",themeList:["garden","business","wireframe","black","valentine","retro","fantasy","pastel","autumn","winter"],storyFormatList:[{name:"Chapbook 2",val:"chapbook-2",finishGet:!1},{name:"Chapbook 1",val:"chapbook-1",finishGet:!1},{name:"Harlowe 3",val:"harlowe-3",finishGet:!1},{name:"Harlowe 2",val:"harlowe-2",finishGet:!1},{name:"Harlowe ",val:"harlowe-1",finishGet:!1},{name:"Snowman 2",val:"snowman-2",finishGet:!1},{name:"Snowman 1",val:"snowman-1",finishGet:!1},{name:"SugarCube 2",val:"sugarcube-2",finishGet:!1},{name:"Custom",val:"custom"}],maxStorage:0,currentStorage:0}),getters:{doubleCount:e=>2*e.counter},actions:{increment(){this.counter++}},persist:!0});var c=o(7721);const u=["data-theme"],d={key:0,class:"absolute bottom-0 w-full flex justify-center items-center p-2 z-50"},p={role:"alert",class:"alert alert-success shadow-lg flex flex-row"},m={class:"flex-none"},h="https://raw.githubusercontent.com/klembot/twinejs/dc8aaeae7c3c279e12f04f74093e315027b8e15d/public/story-formats/chapbook-1.2.3/format.js",k="https://raw.githubusercontent.com/klembot/twinejs/911d18bc4994f1648137da4cacb66fced9086f6f/public/story-formats/chapbook-2.2.0/format.js",b="https://raw.githubusercontent.com/klembot/twinejs/28074261074cf22e46779c0efc2442afe015b74c/public/story-formats/harlowe-2.1.0/format.js",g="https://raw.githubusercontent.com/klembot/twinejs/28074261074cf22e46779c0efc2442afe015b74c/public/story-formats/harlowe-2.1.0/format.js",f="https://raw.githubusercontent.com/klembot/twinejs/60c3cadc308ec9ceafb0406c5c1ef58eaa828d2e/public/story-formats/harlowe-3.3.9/format.js",y="https://raw.githubusercontent.com/klembot/twinejs/dd79dc7073115b1acfc82f25dace9838c241e056/public/story-formats/snowman-1.4.0/format.js",v="https://raw.githubusercontent.com/klembot/twinejs/dd79dc7073115b1acfc82f25dace9838c241e056/public/story-formats/snowman-2.0.2/format.js",L="https://raw.githubusercontent.com/klembot/twinejs/b2f8717bde8f0ef16ca78d9b99b6139c3bd05321/public/story-formats/sugarcube-2.37.3/format.js";var w={__name:"App",setup(e){const t=i(),o=(0,n.KR)(null),s=(0,c.j_)({position:"top",duration:2e3,dismissible:!0});window.addEventListener("beforeinstallprompt",(e=>{t.askInstall&&(e.preventDefault(),o.value=e)})),window.addEventListener("appinstalled",(()=>{o.value=null})),window.addEventListener("resize",(()=>{t.innerHeight=window.innerHeight}));const a=()=>{o.value=null,t.askInstall=!1};function w(e){let t={};return e.split('"setup": function(){').length>1?(t=e.split('"setup": function(){')[0].slice(0,-1)+"}",t=t.slice(19),t=JSON.parse(t)):(t=";"==e.substring(e.length-1)?e.slice(0,-2):e.slice(0,-1),t=t.slice(19),t=JSON.parse(t)),t}return t.storyFormatList.forEach((e=>{"chapbook-1"!=e.val||e.finishGet||fetch(h).then((e=>e.text())).then((t=>{let o=w(t);e.finishGet=!0,e.data=o})).catch((e=>{s.error("Something wrong... Check your internet connection..."),console.log("error",e)})),"chapbook-2"!=e.val||e.finishGet||fetch(k).then((e=>e.text())).then((t=>{let o=w(t);e.finishGet=!0,e.data=o})).catch((e=>{s.error("Something wrong... Check your internet connection..."),console.log("error",e)})),"harlowe-1"!=e.val||e.finishGet||fetch(b).then((e=>e.text())).then((t=>{let o=w(t);e.finishGet=!0,e.data=o})).catch((e=>{s.error("Something wrong... Check your internet connection..."),console.log("error",e)})),"harlowe-2"!=e.val||e.finishGet||fetch(g).then((e=>e.text())).then((t=>{let o=w(t);e.finishGet=!0,e.data=o})).catch((e=>{s.error("Something wrong... Check your internet connection..."),console.log("error",e)})),"harlowe-3"!=e.val||e.finishGet||fetch(f).then((e=>e.text())).then((t=>{let o=w(t);e.finishGet=!0,e.data=o})).catch((e=>{s.error("Something wrong... Check your internet connection..."),console.log("error",e)})),"snowman-1"!=e.val||e.finishGet||fetch(y).then((e=>e.text())).then((t=>{let o=w(t);e.finishGet=!0,e.data=o})).catch((e=>{s.error("Something wrong... Check your internet connection..."),console.log("error",e)})),"snowman-2"!=e.val||e.finishGet||fetch(v).then((e=>e.text())).then((t=>{let o=w(t);e.finishGet=!0,e.data=o})).catch((e=>{s.error("Something wrong... Check your internet connection..."),console.log("error",e)})),"sugarcube-2"!=e.val||e.finishGet||fetch(L).then((e=>e.text())).then((t=>{let o=w(t);e.finishGet=!0,e.data=o})).catch((e=>{s.error("Something wrong... Check your internet connection..."),console.log("error",e)}))})),t.innerHeight=window.innerHeight,(e,s)=>{const i=(0,l.g2)("RouterView");return(0,l.uX)(),(0,l.CE)("div",{class:"font-sans h-screen relative",style:(0,r.Tr)({height:(0,n.R1)(t).innerHeight+"px"}),"data-theme":(0,n.R1)(t).theme},[o.value?((0,l.uX)(),(0,l.CE)("div",d,[(0,l.Lk)("div",p,[s[3]||(s[3]=(0,l.Lk)("div",null,[(0,l.Lk)("span",null,"Install TweezeL To Ur Device !. It Doesn't Take Storage And Work Offline !.")],-1)),(0,l.Lk)("div",m,[(0,l.Lk)("button",{onClick:s[0]||(s[0]=e=>a()),class:"btn btn-sm btn-ghost"},"Never"),(0,l.Lk)("button",{onClick:s[1]||(s[1]=e=>o.value=null),class:"btn btn-sm btn-ghost"},"Deny"),(0,l.Lk)("button",{onClick:s[2]||(s[2]=e=>o.value.prompt()),class:"btn btn-sm btn-primary"},"Install")])])])):(0,l.Q3)("",!0),(0,l.bF)(i)],12,u)}}};const x=w;var C=x,T=o(4458);(0,T.k)("/tweezel/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var S=o(1387),R=(o(4114),o(2489),o(116),o(1701),o(1527)),E=o.n(R);const I={class:"navbar bg-primary shadow-lg text-primary-content"},A={class:"dropdown dropdown-bottom dropdown-end"},F={class:"dropdown-content z-[1] menu p-2 rounded-box shadow-xl bg-primary mt-4"},M={class:"p-1"},j={class:"p-1"},W={key:0,class:"p-1"},B={class:"form-control p-2"},N={class:"join w-full"},_={key:0,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},z={key:1,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},D={class:"w-full grow p-2 overflow-auto flex flex-col"},P={class:"grow overflow-auto pb-[69px]"},O={class:"relative flex items-center transition-all hover:bg-black/20"},U={key:0,class:"handle absolute left-3 cursor-move"},H={class:"flex absolute right-3"},G={class:"dropdown dropdown-bottom dropdown-end"},X={class:"dropdown-content z-[1] menu menu-compact p-2 bg-base-100 rounded-box shadow-xl"},K=["onClick"],J={id:"create-modal",class:"modal modal-bottom sm:modal-middle"},V={class:"modal-box relative"},$={class:"modal-action"},Y={method:"dialog"},q={id:"setting-modal",class:"modal modal-bottom sm:modal-middle"},Q={class:"modal-box relative"},Z={class:"flex flex-col gap-1"},ee=["data-theme"],te={class:"flex flex-row gap-1"},oe={class:"label-text capitalize"},se=["value","checked"],ae={class:"label cursor-pointer bg-base-100 rounded-md py2"},le=["checked"],re={class:"label cursor-pointer bg-base-100 rounded-md py2"},ne=["checked"];var ie={__name:"MainView",setup(e){const t=i(),o=(0,n.KR)(""),a=(0,n.KR)(!1),u=(0,n.KR)("story"),d=(0,n.KR)(t.story),p=(0,n.KR)(t.themeList),m=(0,n.KR)(null),h=(0,n.KR)(null),k=(0,n.KR)(null),b=(0,n.KR)(null),g=(0,c.j_)({position:"top",duration:2e3,dismissible:!0});let f=(0,n.KR)("");function y(){t.themeList=["garden","business","wireframe","black","valentine","retro","fantasy","pastel","autumn","winter"],g.show("Refresh The App To See The Changes...",{type:"success"})}function v(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)))}function L(){return v().toString().toUpperCase()}function w(){if(o.value.length<1)g.show("Story Name Is Required...",{type:"error"});else{let e=L(),s={title:o.value,ifid:e,startNode:"1",userStyle:"/* Design Your Styling In Here */",userScript:"// Type Your Own Javascript In Here",storyformats:"sugarcube-2",imageList:[],customFormatUrl:"",passage:[{name:"start",pid:"1",data:'This Is Your Start Passage.\nQuick Tips.\nTo Add Link / Ways To Other Passage Use\n[[about]] <- This Display "about", When Clicked Go To "about" Passage.\n[[This Is About|about]] <- This Display "This Is About", When Clicked Go To "about" Passage.'},{name:"about",pid:"2",data:'This Is Your About Passage\nTry To Link From Here To "start" Just Use Like In The [[start]] Passage.\nBeware Of Passage Link That Leads To Nowhere !. Like This -> [[pit]] Or [[Go To Pit|pit]].\nTo Fix That, Try To Add A New Passage And Name It "pit".'}]};t.story.push(s),a.value=!1,o.value=""}}function x(e){t.story=d.value.filter((t=>t.ifid!==e)),d.value=t.story}function C(e){let t=!1;return e.title&&e.ifid&&e.startNode&&e.passage&&(t=!0),t}function T(){let e=document.getElementById("tweefileinput").files[0];if(void 0!=e){let o=new FileReader;o.onload=function(e){let o=e.target.result;const s=o.split("::");let a={title:"",ifid:"",startNode:"1",userStyle:"",userScript:"",storyformats:"sugarcube-2",imageList:[],customFormatUrl:"",passage:[]};s.map(((e,t)=>{let o={name:"",pid:String(t),data:"",tags:""};const s=String(e).trim(),l=s.split("\n")[0];let r=l.match(/\[[\s\S]*?\]/gi),n=l.split("{")[0].split("[")[0].trim(),i="",c=s.split(l+"\n").join("");if(r&&r.map((e=>{let t=e.split("[").join("").slice(0,-1).trim();i=t})),o.data=String(c),o.tags=i,o.name=n,"StoryTitle"==o.name)a.title=o.data;else if("StoryData"==o.name){const e=JSON.parse(o.data);a.ifid=e.ifid,a.startNode=e.start}else"StoryScript"==o.name?a.userScript=o.data:"StoryStylesheet"==o.name?a.userStyle=o.data:o.name.length>0&&a.passage.push(o)}));let l=!1;a.passage.map((e=>{e.name!==a.startNode||l||(l=!0,a.startNode=e.pid)})),t.story.push(a)},o.readAsText(e)}}function R(){let e=document.getElementById("jsonfileinput").files[0];if(void 0!=e){let o=new FileReader;o.onload=function(e){let o=e.target.result,s=JSON.parse(o);if(C(s)){const e=t.story.find((e=>e.ifid==s.ifid));e&&x(s.ifid),t.story.push(s)}else g.error("Wrong File To Read...");u.value="story"},o.readAsText(e)}}function ie(){let e=document.getElementById("jsonwholestoryfileinput").files[0];if(void 0!=e){let o=new FileReader;o.onload=function(e){let o=e.target.result,s=JSON.parse(o);if(s.length>0)for(let a=0;a<s.length;a++)if(C(s[a])){const e=t.story.find((e=>e.ifid==s[a].ifid));e&&x(s[a].ifid),t.story.push(s[a])}else g.error("Wrong File To Read...");u.value="story"},o.readAsText(e)}}function ce(e){t.theme=e.target.value}t.groupState="",window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),b.value=e})),window.addEventListener("appinstalled",(()=>{b.value=null}));const ue=e=>{const t=e,o=t.replace(/[^a-z0-9]/gi,"_");return o};function de(e,t){const o=ue(e),s=["January","February","March","April","May","June","July","August","September","October","November","December"],a=new Date,l=o+"_"+a.getDate()+"_"+s[a.getMonth()]+"_"+a.getFullYear()+".tweezeldata";var r=document.createElement("a");r.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(t)),r.setAttribute("download",l),r.style.display="none",document.body.appendChild(r),r.click(),document.body.removeChild(r),g.success("Done...")}let pe=(0,l.EW)((()=>""===f.value?d.value:d.value.filter((e=>e.title.toLowerCase().replace(/\s+/g,"").includes(f.value.toLowerCase().replace(/\s+/g,""))))));const me=e=>{t.detectErrPassage=e},he=e=>{t.codeDarkTheme=e},ke=()=>{document.getElementById("create-modal").showModal()},be=()=>{document.getElementById("setting-modal").showModal()},ge=()=>{document.getElementById("about-modal").showModal()};return(e,a)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",{class:"flex flex-col h-screen",style:(0,r.Tr)({height:(0,n.R1)(t).innerHeight+"px"})},[(0,l.Lk)("div",I,[a[17]||(a[17]=(0,l.Lk)("div",{class:"flex-1"},[(0,l.Lk)("button",{class:"btn btn-ghost normal-case text-xl"},"TweezeL")],-1)),(0,l.Lk)("div",A,[a[16]||(a[16]=(0,l.Lk)("div",{tabindex:"0",role:"button",class:"btn btn-ghost btn-square m-1"},[(0,l.Lk)("svg",{fill:"none",viewBox:"0 0 24 24",class:"inline-block w-5 h-5 stroke-current"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})])],-1)),(0,l.Lk)("ul",F,[(0,l.Lk)("li",M,[(0,l.Lk)("button",{onClick:a[0]||(a[0]=e=>be())},"Setting")]),(0,l.Lk)("li",j,[(0,l.Lk)("button",{onClick:a[1]||(a[1]=e=>ge())},"About")]),b.value?((0,l.uX)(),(0,l.CE)("li",W,[(0,l.Lk)("label",{onClick:a[2]||(a[2]=e=>b.value.prompt())},"Install")])):(0,l.Q3)("",!0)])])]),(0,l.Lk)("div",B,[(0,l.Lk)("label",N,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[3]||(a[3]=e=>(0,n.i9)(f)?f.value=e:f=e),type:"text",placeholder:"Search",class:"input input-bordered input-xs grow join-item"},null,512),[[s.Jo,(0,n.R1)(f)]]),(0,l.Lk)("span",{onClick:a[4]||(a[4]=e=>(0,n.i9)(f)?f.value="":f=""),class:"cursor-pointer join-item btn btn-xs"},[(0,n.R1)(f).length>0?((0,l.uX)(),(0,l.CE)("svg",_,a[18]||(a[18]=[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)]))):((0,l.uX)(),(0,l.CE)("svg",z,a[19]||(a[19]=[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])))])])]),(0,l.Lk)("div",D,[(0,l.Lk)("div",P,[(0,n.R1)(pe).length>0?((0,l.uX)(),(0,l.Wv)((0,n.R1)(E()),{key:0,list:(0,n.R1)(pe),handle:".handle","item-key":"title"},{item:(0,l.k6)((({element:e})=>[(0,l.Lk)("div",O,[0==(0,n.R1)(f).length?((0,l.uX)(),(0,l.CE)("div",U,a[20]||(a[20]=[(0,l.Lk)("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,l.Lk)("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1)]))):(0,l.Q3)("",!0),(0,l.Lk)("div",H,[(0,l.Lk)("div",G,[a[21]||(a[21]=(0,l.Lk)("div",{tabindex:"0",role:"button",class:"btn btn-ghost btn-sm"},[(0,l.Lk)("svg",{fill:"none",viewBox:"0 0 24 24",class:"inline-block w-5 h-5 stroke-current"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})])],-1)),(0,l.Lk)("ul",X,[(0,l.Lk)("li",null,[(0,l.Lk)("button",{onClick:t=>x(e.ifid),class:"bg-error text-error-content"}," Delete ",8,K)])])])]),(0,l.bF)((0,n.R1)(S.Wk),{to:`/story/${e.ifid}`,class:"py-4 static w-full px-12 truncate"},{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(e.title),1)])),_:2},1032,["to"])])])),_:1},8,["list"])):(0,l.Q3)("",!0)])])],4),(0,l.Lk)("div",{onClick:a[5]||(a[5]=e=>ke()),class:"btn btn-primary btn-circle absolute bottom-5 right-5 cursor-pointer"},a[22]||(a[22]=[(0,l.Lk)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)])),(0,l.Lk)("dialog",J,[(0,l.Lk)("div",V,[a[23]||(a[23]=(0,l.Lk)("form",{method:"dialog"},[(0,l.Lk)("button",{class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕")],-1)),a[24]||(a[24]=(0,l.Lk)("h3",{class:"font-bold text-lg mb-4"},"Write An Amazing Title For Your Story...",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[6]||(a[6]=e=>o.value=e),type:"text",placeholder:"Story Title",class:"input input-bordered w-full"},null,512),[[s.Jo,o.value]]),(0,l.Lk)("div",$,[(0,l.Lk)("form",Y,[(0,l.Lk)("button",{onClick:a[7]||(a[7]=e=>w()),class:"btn btn-success"},"Start Creating !.")])])])]),(0,l.Lk)("dialog",q,[(0,l.Lk)("div",Q,[a[31]||(a[31]=(0,l.Lk)("form",{method:"dialog"},[(0,l.Lk)("button",{class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕")],-1)),a[32]||(a[32]=(0,l.Lk)("div",{class:"divider text-xl"},"Setting",-1)),a[33]||(a[33]=(0,l.Lk)("p",{class:"text-base py-2"},"Choose Theme.",-1)),(0,l.Lk)("div",Z,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(p.value,((e,o)=>((0,l.uX)(),(0,l.CE)("div",{key:o,class:"form-control"},[(0,l.Lk)("label",{class:"label cursor-pointer bg-base-100 rounded-md p-2","data-theme":e},[(0,l.Lk)("div",te,[a[25]||(a[25]=(0,l.Lk)("span",{class:"aspect-square w-5 text-center bg-primary text-primary-content"},"A",-1)),a[26]||(a[26]=(0,l.Lk)("span",{class:"aspect-square w-5 text-center bg-secondary text-secondary-content"},"A",-1)),a[27]||(a[27]=(0,l.Lk)("span",{class:"aspect-square w-5 text-center bg-accent text-accent-content"},"A",-1)),a[28]||(a[28]=(0,l.Lk)("span",{class:"aspect-square w-5 text-center bg-neutral text-neutral-content"},"A",-1)),(0,l.Lk)("span",oe,(0,r.v_)(e),1)]),(0,l.Lk)("input",{type:"radio",name:"theme-radio",class:"radio",value:e,onChange:a[8]||(a[8]=e=>ce(e)),checked:(0,n.R1)(t).theme===e},null,40,se)],8,ee)])))),128))]),(0,l.Lk)("button",{onClick:a[9]||(a[9]=e=>y()),class:"btn btn-primary btn-block btn-sm mt-2"},"Refresh Theme List ?."),a[34]||(a[34]=(0,l.Lk)("div",{class:"divider"},null,-1)),(0,l.Lk)("label",ae,[a[29]||(a[29]=(0,l.eW)(" Code In Dark Theme ")),(0,l.Lk)("input",{type:"checkbox",class:"toggle",checked:(0,n.R1)(t).codeDarkTheme,onChange:a[10]||(a[10]=e=>he(e.target.checked))},null,40,le)]),a[35]||(a[35]=(0,l.Lk)("div",{class:"divider"},null,-1)),(0,l.Lk)("label",re,[a[30]||(a[30]=(0,l.eW)(" Detect Error Passage ?. (Experimental) ")),(0,l.Lk)("input",{type:"checkbox",class:"toggle",checked:(0,n.R1)(t).detectErrPassage,onChange:a[11]||(a[11]=e=>me(e.target.checked))},null,40,ne)]),a[36]||(a[36]=(0,l.Lk)("div",{class:"divider"},null,-1)),a[37]||(a[37]=(0,l.Lk)("p",{class:"text-base py-2"},"Load Story From Twee File.",-1)),a[38]||(a[38]=(0,l.Lk)("p",{class:"text-sm py-2"},"IT IS NOT TESTED MUCH BUT EXPECTED TO WORK USING TWEE FILES EXPORTED FROM HERE AND TWINE !.",-1)),a[39]||(a[39]=(0,l.Lk)("p",{class:"text-sm py-2"},"Story Loaded From Twee File Will Have Sugarcube 2 Format By Default.",-1)),(0,l.Lk)("button",{onClick:a[12]||(a[12]=e=>m.value.click()),class:"btn btn-primary btn-block btn-sm"},"Choose File To Load."),(0,l.Lk)("input",{onChange:T,class:"h-0 w-0",type:"file",id:"tweefileinput",ref_key:"loadStoryTwee",ref:m,accept:".twee"},null,544),a[40]||(a[40]=(0,l.Lk)("div",{class:"divider"},null,-1)),a[41]||(a[41]=(0,l.Lk)("p",{class:"text-base py-2"},"Load Story From Backup.",-1)),(0,l.Lk)("button",{onClick:a[13]||(a[13]=e=>h.value.click()),class:"btn btn-primary btn-block btn-sm"},"Choose Story Backup To Load."),(0,l.Lk)("input",{onChange:R,class:"h-0 w-0",type:"file",id:"jsonfileinput",ref_key:"loadStory",ref:h,accept:".tweezeldata"},null,544),a[42]||(a[42]=(0,l.Lk)("div",{class:"divider"},null,-1)),a[43]||(a[43]=(0,l.Lk)("p",{class:"text-base py-2"},"Create Backup Of An Entire Story.",-1)),a[44]||(a[44]=(0,l.Lk)("p",{class:"text-sm py-2"},'Later. U Can Use "Choose Whole Story Backup To Load." Button To Select The File And Restore Your Backup. Or Just To Share It To Your Friends And Let Them Load Your Story Into Their Devices :).',-1)),(0,l.Lk)("button",{onClick:a[14]||(a[14]=e=>de("TweezeL Backup",JSON.stringify((0,n.R1)(t).story))),class:"btn btn-primary btn-block btn-sm"},"Backup The Entire Story."),a[45]||(a[45]=(0,l.Lk)("div",{class:"divider"},null,-1)),a[46]||(a[46]=(0,l.Lk)("p",{class:"text-base py-2"},"Load Entire Story From Backup.",-1)),a[47]||(a[47]=(0,l.Lk)("p",{class:"text-sm py-2"},"IF THE STORY IS ALREADY EXIST. THIS WILL REPLACE IT !.",-1)),(0,l.Lk)("button",{onClick:a[15]||(a[15]=e=>k.value.click()),class:"btn btn-primary btn-block btn-sm"},"Choose Whole Story Backup To Load."),(0,l.Lk)("input",{onChange:ie,class:"h-0 w-0",type:"file",id:"jsonwholestoryfileinput",ref_key:"loadWholeStory",ref:k,accept:".tweezeldata"},null,544)])]),a[48]||(a[48]=(0,l.Lk)("dialog",{id:"about-modal",class:"modal modal-bottom sm:modal-middle"},[(0,l.Lk)("div",{class:"modal-box relative"},[(0,l.Lk)("form",{method:"dialog"},[(0,l.Lk)("button",{class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕")]),(0,l.Lk)("p",{class:"p-1 mt-2"},"TweezeL Is A Free Tools For Creating Twine Games Focused For Android. But It Quite Works Well On Any Device With Browser On It. :3."),(0,l.Lk)("p",{class:"p-1 mt-2"},"The Feature Is Not Good Like Twine Or Tweego. But At Least It's Device Friendly Than Twine. And User Friendly Than Tweego. :)"),(0,l.Lk)("p",{class:"p-1 mt-2"},"Now This Tools Already Support All Official Listed Story Formats On Twine 2 Tools. Such As Chapbook, Harlowe, Snowman, And Sugarcube."),(0,l.Lk)("p",{class:"p-1 mt-2"},[(0,l.eW)("If You Don't Know What To Choose For Your Game Story Formats. Just Create A New Story. Set The StoryFormats On The Story Global Setting."),(0,l.Lk)("br"),(0,l.eW)(" And Play The Story. Try All The StoryFormats One By One. Till U Find It Perfect For Your Game."),(0,l.Lk)("br"),(0,l.eW)(" Also. Every StoryFormats Has It's Own Documentations. If U Plan For Longer Gameplay For Your Game. Think About This StoryFormats Seriously. :3."),(0,l.Lk)("br"),(0,l.eW)(" My Personal Recomendations Is... "),(0,l.Lk)("b",null,"Sugarcube 2"),(0,l.eW)("...")]),(0,l.Lk)("p",{class:"p-1 mt-2"},[(0,l.eW)("This Tools Is More Or Less Like Tweego But With GUI. For Those Who Never Code Twine Games With Tweego And Wanna Try This Tools."),(0,l.Lk)("br"),(0,l.eW)(" Just Create A New Story To Read Some Very Basic Tutorial :)."),(0,l.Lk)("br"),(0,l.eW)(" Or "),(0,l.Lk)("a",{class:"text-primary-content underline",href:"https://www.youtube.com/playlist?list=PLb4OE-UTEU-86vltmWTJTBkbYEWbGSebe",target:"_blank",rel:"noopener noreferrer"},"Go To Here."),(0,l.eW)(" It's My Youtube Playlist. Some Video About This Project. Like Basic Tutorial And Such Things.")]),(0,l.Lk)("form",{method:"dialog"},[(0,l.Lk)("button",{class:"btn btn-success btn-block btn-sm mt-2"},"Happy Creating !.")])])],-1))],64))}};const ce=ie;var ue=ce,de=o(9372),pe=o.n(de);const me={class:"navbar bg-primary shadow-lg text-primary-content"},he={class:"grow truncate"},ke={class:"normal-case text-xl truncate font-semibold"},be={class:"form-control p-2"},ge={class:"join w-full"},fe={key:0,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},ye={key:1,class:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},ve={key:0,class:"p-2"},Le={class:"alert alert-error items-start flex flex-col gap-1"},we={class:"w-full grow p-2 overflow-auto flex flex-col"},xe={class:"grow overflow-auto pb-[69px]"},Ce={key:0,class:"handle absolute left-3 cursor-move"},Te={class:"flex absolute right-3"},Se={class:"dropdown dropdown-bottom dropdown-end"},Re={class:"dropdown-content z-[1] menu menu-compact p-2 bg-base-100 rounded-box shadow-xl"},Ee=["onClick"],Ie={class:"absolute bottom-5 right-5 flex flex-row gap-5"},Ae={id:"create-modal",class:"modal modal-bottom sm:modal-middle"},Fe={class:"modal-box relative"},Me={class:"modal-action"},je={method:"dialog"},We={id:"image-modal",class:"modal modal-bottom sm:modal-middle"},Be={class:"modal-box p-0 relative"},Ne={class:"p-2"},_e={class:"flex flex-col gap-2"},ze={class:"w-14 h-14"},De=["src"],Pe=["onUpdate:modelValue"],Oe=["onClick"],Ue={key:1,class:"bg-primary p-1 rounded-md text-primary-content flex flex-row gap-2 items-center"},He={key:0,class:"text-sm pt-2"},Ge={class:"modal-action sticky bg-base-100 bottom-0 p-2"};var Xe={__name:"StoryView",setup(e){const t=i(),o=(0,S.lq)(),a=(0,n.KR)(!1),u=(0,n.KR)(null),d=(0,n.KR)(""),p=(0,n.KR)(!1),m=(0,n.KR)([]),h=o.params.id,k=e=>e.ifid==h,b=t.story.findIndex(k),g=(0,n.KR)(t.story[b].imageList),f=(0,n.KR)(t.story[b].passage),y=(0,c.j_)({position:"top",duration:2e3,dismissible:!0});let v=(0,n.KR)("");function L(e){var o=!1;for(let s=0;s<t.story[b].passage.length;s++)t.story[b].passage[s].name==e&&(o=!0);return o}function w(){if(d.value.length<1)y.show("Passage Name Is Required...",{type:"error"});else if(L(d.value))d.value="",y.show("Passage Name Already Exist...",{type:"error"});else{let e=1,o=[];for(let s=0;s<t.story[b].passage.length;s++)o.push(t.story[b].passage[s].pid);o.sort((function(e,t){return e-t}));for(let t=0;t<o.length;t++)o[t]==e&&e++;t.story[b].passage.push({name:d.value,pid:e.toString(),data:"Edit Your New Passage..."}),a.value=!1,d.value=""}}function x(e){t.story[b].passage=f.value.filter((t=>t.pid!==e)),f.value=t.story[b].passage}t.storyId=b;let C=(0,l.EW)((()=>""===v.value?f.value:f.value.filter((e=>e.name.toLowerCase().replace(/\s+/g,"").includes(v.value.toLowerCase().replace(/\s+/g,""))||e.tags&&e.tags.toLowerCase().replace(/\s+/g,"").includes(v.value.toLowerCase().replace(/\s+/g,""))))));const T=e=>{let t="";return t=e.includes("][")?e.split("][")[0].trim():e,t},R=()=>{t.detectErrPassage&&t.story[b].passage.forEach((e=>{const o=e.data.match(/\[\[(.*?)\]\]/g);let s=[];o&&o.length>0&&o.forEach((e=>{let o=!1,a=e.replaceAll("[[","").replaceAll("]]","").split("|"),l="";l=a.length<2?a[0].includes("<-")?T(a[0].split("<-")[0].trim()):a[0].includes("->")?T(a[0].split("->")[a[0].split("->").length=1].trim()):a[a.length-1].trim():a[a.length-1].trim(),t.story[b].passage.forEach((e=>{o||e.name==l&&(o=!0)})),o||s.includes(l)||s.push(l)})),e.error=s,e.error&&e.error.length>0&&m.value.push(e.name)}))};function I(e){const o=e.target.files[0];o&&new(pe())(o,{quality:.6,convertSize:0,success(e){const o=e;let s=new FileReader;s.onload=function(e){let o=e.target.result;if(t.story[b].imageList){let e=1,s=[];for(let o=0;o<t.story[b].imageList.length;o++)s.push(t.story[b].imageList[o].id);s.sort((function(e,t){return e-t}));for(let t=0;t<s.length;t++)s[t]==e&&e++;t.story[b].imageList.push({name:"image-name-"+e.toString(),src:o,id:e.toString()})}else t.story[b].imageList=[],t.story[b].imageList.push({name:"image-name-1",src:o,id:"1"});u.value.value=null},s.readAsDataURL(o)},error(e){console.log(e.message)}})}function A(e){t.story[b].imageList=t.story[b].imageList.filter((t=>t.id!==e)),g.value=t.story[b].imageList}const F=()=>{document.getElementById("create-modal").showModal()},M=()=>{document.getElementById("image-modal").showModal()};return R(),(e,o)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",{class:"flex flex-col h-screen",style:(0,r.Tr)({height:(0,n.R1)(t).innerHeight+"px"})},[(0,l.Lk)("div",me,[(0,l.Lk)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:o[0]||(o[0]=t=>e.$router.back())},o[11]||(o[11]=[(0,l.Lk)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1)])),(0,l.Lk)("div",he,[(0,l.Lk)("div",ke,(0,r.v_)((0,n.R1)(t).story[(0,n.R1)(b)].title),1)]),(0,l.bF)((0,n.R1)(S.Wk),{to:`/story/${(0,n.R1)(h)}/global`},{default:(0,l.k6)((()=>o[12]||(o[12]=[(0,l.Lk)("button",{tabindex:"0",class:"btn btn-ghost btn-square m-1"},[(0,l.Lk)("svg",{class:"h-5 w-5 self-center m-2",viewBox:"0 0 20 20",fill:"currentColor"},[(0,l.Lk)("path",{"fill-rule":"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})])],-1)]))),_:1,__:[12]},8,["to"])]),(0,l.Lk)("div",be,[(0,l.Lk)("label",ge,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[1]||(o[1]=e=>(0,n.i9)(v)?v.value=e:v=e),type:"text",placeholder:"Search",class:"input input-bordered input-xs grow join-item"},null,512),[[s.Jo,(0,n.R1)(v)]]),(0,l.Lk)("span",{onClick:o[2]||(o[2]=e=>(0,n.i9)(v)?v.value="":v=""),class:"cursor-pointer join-item btn btn-xs"},[(0,n.R1)(v).length>0?((0,l.uX)(),(0,l.CE)("svg",fe,o[13]||(o[13]=[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1)]))):((0,l.uX)(),(0,l.CE)("svg",ye,o[14]||(o[14]=[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"},null,-1)])))])])]),m.value.length>0?((0,l.uX)(),(0,l.CE)("div",ve,[(0,l.Lk)("div",Le,[o[15]||(o[15]=(0,l.Lk)("div",{class:"flex flex-row gap-2"},[(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})]),(0,l.Lk)("span",null,"Error! Below Are The Passage That Have An Invalid Passage Link !.")],-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,n.R1)(t).story[(0,n.R1)(b)].passage,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t},[e.error&&e.error.length>0?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.eW)(' In "'+(0,r.v_)(e.name)+'" Path Found "'+(0,r.v_)(e.error.join(", "))+'" ',1)],64)):(0,l.Q3)("",!0)])))),128))])])):(0,l.Q3)("",!0),(0,l.Lk)("div",we,[(0,l.Lk)("div",xe,[(0,n.R1)(C).length>0?((0,l.uX)(),(0,l.Wv)((0,n.R1)(E()),{key:0,list:(0,n.R1)(C),handle:".handle","item-key":"pid"},{item:(0,l.k6)((({element:e})=>[(0,l.Lk)("div",{class:(0,r.C4)([e.error&&e.error.length>0&&(0,n.R1)(t).detectErrPassage?"bg-error text-error-content hover:bg-error/80":"hover:bg-black/20","relative flex items-center transition-all"])},[0==(0,n.R1)(v).length?((0,l.uX)(),(0,l.CE)("div",Ce,o[16]||(o[16]=[(0,l.Lk)("svg",{class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[(0,l.Lk)("path",{"fill-rule":"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z","clip-rule":"evenodd"})],-1)]))):(0,l.Q3)("",!0),(0,l.Lk)("div",Te,[(0,l.Lk)("div",Se,[o[17]||(o[17]=(0,l.Lk)("div",{tabindex:"0",role:"button",class:"btn btn-ghost btn-sm"},[(0,l.Lk)("svg",{fill:"none",viewBox:"0 0 24 24",class:"inline-block w-5 h-5 stroke-current"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 12h.01M12 12h.01M19 12h.01M6 12a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0zm7 0a1 1 0 11-2 0 1 1 0 012 0z"})])],-1)),(0,l.Lk)("ul",Re,[(0,l.Lk)("li",null,[(0,l.Lk)("button",{onClick:t=>x(e.pid),class:"bg-error text-error-content"}," Delete ",8,Ee)])])])]),(0,l.bF)((0,n.R1)(S.Wk),{to:`/story/${(0,n.R1)(t).story[(0,n.R1)(b)].ifid}/edit/${e.pid}`,class:(0,r.C4)(["py-4 static w-full px-12 truncate"])},{default:(0,l.k6)((()=>[(0,l.eW)((0,r.v_)(e.name)+" ",1),(0,l.Lk)("i",null,(0,r.v_)(e.tags&&e.tags.length>0?`[${e.tags}]`:""),1)])),_:2},1032,["to"])],2)])),_:1},8,["list"])):(0,l.Q3)("",!0)])])],4),(0,l.Lk)("div",Ie,[(0,l.bF)((0,n.R1)(S.Wk),{to:`/story/${(0,n.R1)(h)}/play`},{default:(0,l.k6)((()=>[(0,l.Lk)("button",{class:"btn btn-primary btn-circle cursor-pointer",onClick:o[3]||(o[3]=e=>(0,n.R1)(t).playState="export")},o[18]||(o[18]=[(0,l.Lk)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 13.5l3 3m0 0l3-3m-3 3v-6m1.06-4.19l-2.12-2.12a1.5 1.5 0 00-1.061-.44H4.5A2.25 2.25 0 002.25 6v12a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9a2.25 2.25 0 00-2.25-2.25h-5.379a1.5 1.5 0 01-1.06-.44z"})],-1)]))])),_:1},8,["to"]),(0,l.bF)((0,n.R1)(S.Wk),{to:`/story/${(0,n.R1)(h)}/play`},{default:(0,l.k6)((()=>[(0,l.Lk)("button",{class:"btn btn-primary btn-circle cursor-pointer",onClick:o[4]||(o[4]=e=>(0,n.R1)(t).playState="play")},o[19]||(o[19]=[(0,l.Lk)("svg",{class:"h-6 w-6 self-center m-2",viewBox:"0 0 20 20",fill:"currentColor"},[(0,l.Lk)("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z","clip-rule":"evenodd"})],-1)]))])),_:1},8,["to"]),(0,l.Lk)("button",{onClick:o[5]||(o[5]=e=>M()),class:"btn btn-primary btn-circle cursor-pointer"},o[20]||(o[20]=[(0,l.Lk)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 15.75l5.159-5.159a2.25 2.25 0 013.182 0l5.159 5.159m-1.5-1.5l1.409-1.409a2.25 2.25 0 013.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 001.5-1.5V6a1.5 1.5 0 00-1.5-1.5H3.75A1.5 1.5 0 002.25 6v12a1.5 1.5 0 001.5 1.5zm10.5-11.25h.008v.008h-.008V8.25zm.375 0a.375.375 0 11-.75 0 .375.375 0 01.75 0z"})],-1)])),(0,l.Lk)("button",{onClick:o[6]||(o[6]=e=>F()),class:"btn btn-primary btn-circle cursor-pointer"},o[21]||(o[21]=[(0,l.Lk)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)]))]),(0,l.Lk)("dialog",Ae,[(0,l.Lk)("div",Fe,[o[22]||(o[22]=(0,l.Lk)("form",{method:"dialog"},[(0,l.Lk)("button",{class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕")],-1)),o[23]||(o[23]=(0,l.Lk)("h3",{class:"font-bold text-lg mb-4"},"Passage Name...",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":o[7]||(o[7]=e=>d.value=e),type:"text",placeholder:"Passage Name",class:"input input-bordered w-full"},null,512),[[s.Jo,d.value]]),(0,l.Lk)("div",Me,[(0,l.Lk)("form",je,[(0,l.Lk)("button",{onClick:o[8]||(o[8]=e=>w()),class:"btn btn-success"},"Add Passage.")])])])]),(0,l.Lk)("dialog",We,[(0,l.Lk)("div",Be,[o[29]||(o[29]=(0,l.Lk)("form",{method:"dialog"},[(0,l.Lk)("button",{class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕")],-1)),(0,l.Lk)("div",Ne,[o[28]||(o[28]=(0,l.Lk)("h3",{class:"font-bold text-lg mb-4"},"Image List...",-1)),(0,l.Lk)("div",_e,[g.value&&g.value.length>0?((0,l.uX)(!0),(0,l.CE)(l.FK,{key:0},(0,l.pI)(g.value,((e,o)=>((0,l.uX)(),(0,l.CE)("div",{key:o,class:"bg-primary py-1 px-3 rounded-md text-primary-content flex flex-row gap-2 items-center"},[(0,l.Lk)("div",ze,[(0,l.Lk)("img",{src:e.src,class:"w-full h-full object-contain"},null,8,De)]),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":e=>(0,n.R1)(t).story[(0,n.R1)(b)].imageList[o].name=e,type:"text",placeholder:"Image Name",class:"input input-bordered input-xs grow bg-secondary input-secondary text-secondary-content"},null,8,Pe),[[s.Jo,(0,n.R1)(t).story[(0,n.R1)(b)].imageList[o].name]]),p.value?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:t=>A(e.id),class:"bg-error text-error-content p-2"}," Delete ",8,Oe)):(0,l.Q3)("",!0)])))),128)):((0,l.uX)(),(0,l.CE)("div",Ue," No Image ?. No Problem. Try Add 1. "))]),g.value&&g.value.length>0?((0,l.uX)(),(0,l.CE)("p",He,[o[24]||(o[24]=(0,l.eW)(' Put Image Name Inside src And Wrap It Using "%img% your_image_name %".')),o[25]||(o[25]=(0,l.Lk)("br",null,null,-1)),o[26]||(o[26]=(0,l.eW)("Example : "+(0,r.v_)('<img src="%img% '))),(0,l.Lk)("u",null,(0,r.v_)(`${(0,n.R1)(t).story[(0,n.R1)(b)].imageList[0].name}`),1),o[27]||(o[27]=(0,l.eW)(" "+(0,r.v_)('%" />')+". "))])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",Ge,[(0,l.Lk)("label",{onClick:o[9]||(o[9]=e=>p.value=!p.value),class:"btn btn-error btn-sm"},(0,r.v_)(p.value?"Cancel Delete Image":"Delete Image")+".",1),(0,l.Lk)("input",{onChange:I,class:"h-0 w-0",type:"file",id:"imageFileInput",ref_key:"addImageButton",ref:u,accept:"image/*"},null,544),(0,l.Lk)("label",{onClick:o[10]||(o[10]=e=>u.value.click()),class:"btn btn-success btn-sm"},"Add Image.")])])])],64))}};const Ke=Xe;var Je=Ke,Ve=o(5981),$e=o(5242);const Ye={class:"navbar bg-primary shadow-lg text-primary-content"},qe={class:"w-full px-2 pb-2 flex flex-col gap-2 grow h-0"},Qe={class:"form-control"},Ze={class:"join w-full"},et={class:"overflow-auto grow"},tt={id:"additional-modal",class:"modal modal-bottom sm:modal-middle"},ot={class:"modal-box relative"};var st={__name:"StoryEdit",setup(e){const t=[$e.bM],o=i(),a=(0,S.lq)(),u=a.params.id,d=e=>e.ifid==u,p=o.story.findIndex(d),m=a.params.pid,h=e=>e.pid==m,k=o.story[p].passage.findIndex(h),b=(0,n.KR)(o.story[p].passage[k].name),g=(0,n.KR)(b.value),f=(0,n.KR)(o.story[p].passage),y=(0,c.j_)({position:"top",duration:2e3,dismissible:!0});let v=f.value.map((function(e){return e.name}));function L(e){let t=0;v.forEach((function(o){o==e&&(t+=1)})),0==t?(o.story[p].passage[k].name=e,y.show("Success Changing Passage Name...",{type:"success"}),b.value=e,g.value=e):y.show("Passage Name Is Alreadys Exist Or Empty...",{type:"error"})}const w=()=>{document.getElementById("additional-modal").showModal()};return(e,a)=>((0,l.uX)(),(0,l.CE)(l.FK,null,[(0,l.Lk)("div",{class:"h-screen flex flex-col overflow-auto",style:(0,r.Tr)({height:(0,n.R1)(o).innerHeight+"px"})},[(0,l.Lk)("div",Ye,[(0,l.Lk)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:a[0]||(a[0]=t=>e.$router.back())},a[6]||(a[6]=[(0,l.Lk)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1)])),a[8]||(a[8]=(0,l.Lk)("div",{class:"grow truncate"},[(0,l.Lk)("button",{class:"btn btn-ghost normal-case px-0 text-xl m-1"},"Editing Passage")],-1)),(0,l.Lk)("button",{onClick:a[1]||(a[1]=e=>w()),tabindex:"0",class:"btn btn-ghost btn-square m-1"},a[7]||(a[7]=[(0,l.Lk)("svg",{class:"h-5 w-5 self-center m-2",viewBox:"0 0 20 20",fill:"currentColor"},[(0,l.Lk)("path",{"fill-rule":"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z","clip-rule":"evenodd"})],-1)]))]),(0,l.Lk)("div",qe,[(0,l.Lk)("div",Qe,[a[10]||(a[10]=(0,l.Lk)("label",{class:"label"},[(0,l.Lk)("span",{class:"label-text"},"Passage Names")],-1)),(0,l.Lk)("label",Ze,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[2]||(a[2]=e=>g.value=e),type:"text",placeholder:"Passage Title Must Not Empty",class:"input input-bordered input-xs grow join-item"},null,512),[[s.Jo,g.value]]),b.value!=g.value?((0,l.uX)(),(0,l.CE)("span",{key:0,onClick:a[3]||(a[3]=e=>L(g.value)),class:"cursor-pointer btn btn-xs join-item"},a[9]||(a[9]=[(0,l.Lk)("span",null,"Set",-1)]))):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",et,[(0,l.bF)((0,n.R1)(Ve.bE),{modelValue:(0,n.R1)(o).story[(0,n.R1)(p)].passage[(0,n.R1)(k)].data,"onUpdate:modelValue":a[4]||(a[4]=e=>(0,n.R1)(o).story[(0,n.R1)(p)].passage[(0,n.R1)(k)].data=e),placeholder:"Write The Code Here...",style:(0,r.Tr)({"flex-grow":"1","background-color":(0,n.R1)(o).codeDarkTheme?"":"white",color:(0,n.R1)(o).codeDarkTheme?"":"black"}),autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:(0,n.R1)(o).codeDarkTheme?t:[]},null,8,["modelValue","style","extensions"])])])],4),(0,l.Lk)("dialog",tt,[(0,l.Lk)("div",ot,[a[11]||(a[11]=(0,l.Lk)("form",{method:"dialog"},[(0,l.Lk)("button",{class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"},"✕")],-1)),a[12]||(a[12]=(0,l.Lk)("h3",{class:"text-xl"},"Tags",-1)),a[13]||(a[13]=(0,l.Lk)("p",{class:"py-1"},"Write Tags To The Story Passage. Seperated By Space(s).",-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":a[5]||(a[5]=e=>(0,n.R1)(o).story[(0,n.R1)(p)].passage[(0,n.R1)(k)].tags=e),type:"text",placeholder:"",class:"input input-bordered w-full"},null,512),[[s.Jo,(0,n.R1)(o).story[(0,n.R1)(p)].passage[(0,n.R1)(k)].tags]])])])],64))}};const at=st;var lt=at,rt=o(6016),nt=o(1700);const it={class:"navbar bg-primary shadow-lg text-primary-content"},ct={class:"tabs tabs-boxed m-2"},ut={key:0,class:"p-1 w-full grow overflow-auto px-2"},dt={class:"form-control w-full"},pt={class:"form-control w-full"},mt=["value"],ht={class:"p-2"},kt=["innerHTML"],bt=["innerHTML"],gt={key:0},ft={key:1},yt={class:"form-control w-full"},vt=["value"],Lt={class:"form-control w-full"},wt={key:1,class:"w-full p-1 flex flex-col gap-2 grow h-0 overflow-auto"},xt={key:2,class:"w-full p-1 flex flex-col gap-2 grow h-0 overflow-auto"};var Ct={__name:"GlobalSettingStory",setup(e){const t=(0,c.j_)({position:"top",duration:2e3,dismissible:!0}),o=i(),a=(0,S.lq)(),u=(0,n.KR)("setting"),d=a.params.id,p=e=>e.ifid==d,m=o.story.findIndex(p),h=[(0,rt.AH)()],k=[(0,nt.Q2)()];o.codeDarkTheme&&(h.push($e.bM),k.push($e.bM));const b=e=>{const t=e,o=t.replace(/[^a-z0-9]/gi,"_");return o};let g=(0,l.EW)((()=>""===o.story[m].storyformats?o.story[m].storyformats:o.storyFormatList.filter((e=>e.val.toLowerCase().replace(/\s+/g,"").includes(o.story[m].storyformats.toLowerCase().replace(/\s+/g,""))))));function f(e,t){let s=0,a=0,l="",r=t.ifid,n=g.value[0].data.name,i=g.value[0].data.version,c=t.passage.filter((e=>e.pid.toLowerCase().replace(/\s+/g,"").includes(t.startNode.toLowerCase().replace(/\s+/g,""))))[0].name;l+=`:: StoryTitle\n${t.title}\n\n\n`,l+=`:: StoryData\n{\n  "ifid": "${r}",\n  "format": "${n}",\n  "format-version": "${i}",\n  "start": "${c}",\n  "zoom": 1\n}\n\n\n`,t.passage.forEach((e=>{let t=e.data,r=t.match(/%img%[\s\S]*?%/gi);r&&r.length>0&&r.map((e=>{let s=e.split("%img%").join("").slice(0,-1).trim();const a=o.story[m].imageList.find((e=>e.name.trim()==s));a&&(t=t.replace(e,a.src))})),l+=`:: ${e.name} ${e.tags&&e.tags.length>0?" ["+e.tags+"] ":""}{"position":"${s},${a}","size":"100,100"}\n${t}\n\n\n`,2e3==s?(s=0,a+=100):s+=100})),l+=`:: StoryScript [script]\n${t.userScript}\n\n\n`,l+=`:: StoryStylesheet [stylesheet]\n${t.userStyle}\n\n\n`,y(e,l,"twee")}function y(e,o,s){const a=b(e),l=["January","February","March","April","May","June","July","August","September","October","November","December"],r=new Date,n=a+"_"+r.getDate()+"_"+l[r.getMonth()]+"_"+r.getFullYear()+"."+(s||"tweezeldata");var i=document.createElement("a");i.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(o)),i.setAttribute("download",n),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),t.success("Done...")}return(e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"h-screen flex flex-col",style:(0,r.Tr)({height:(0,n.R1)(o).innerHeight+"px"})},[(0,l.Lk)("div",it,[(0,l.Lk)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:t[0]||(t[0]=t=>e.$router.back())},t[13]||(t[13]=[(0,l.Lk)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1)])),t[14]||(t[14]=(0,l.Lk)("div",{class:"grow truncate"},[(0,l.Lk)("button",{class:"btn btn-ghost normal-case px-0 text-xl m-1"},"Story Setting")],-1))]),(0,l.Lk)("div",ct,[(0,l.Lk)("button",{onClick:t[1]||(t[1]=e=>u.value="setting"),class:(0,r.C4)(["setting"==u.value?"tab-active":"","tab grow"])},"Setting",2),(0,l.Lk)("button",{onClick:t[2]||(t[2]=e=>u.value="css"),class:(0,r.C4)(["css"==u.value?"tab-active":"","tab grow"])},"CSS",2),(0,l.Lk)("button",{onClick:t[3]||(t[3]=e=>u.value="js"),class:(0,r.C4)(["js"==u.value?"tab-active":"","tab grow"])},"Javascript",2)]),"setting"==u.value?((0,l.uX)(),(0,l.CE)("div",ut,[(0,l.Lk)("div",dt,[t[15]||(t[15]=(0,l.Lk)("label",{class:"label"},[(0,l.Lk)("span",{class:"label-text"},"Story Title")],-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>(0,n.R1)(o).story[(0,n.R1)(m)].title=e),type:"text",placeholder:"Story Title Must Not Empty",class:"input input-bordered w-full"},null,512),[[s.Jo,(0,n.R1)(o).story[(0,n.R1)(m)].title]])]),(0,l.Lk)("div",pt,[t[16]||(t[16]=(0,l.Lk)("label",{class:"label"},[(0,l.Lk)("span",{class:"label-text"},"Story Formats")],-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>(0,n.R1)(o).story[(0,n.R1)(m)].storyformats=e),class:"select select-bordered w-full"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,n.R1)(o).storyFormatList,((e,t)=>((0,l.uX)(),(0,l.CE)("option",{value:e.val,key:t},(0,r.v_)(e.name),9,mt)))),128))],512),[[s.u1,(0,n.R1)(o).story[(0,n.R1)(m)].storyformats]])]),(0,l.Lk)("div",ht,[t[18]||(t[18]=(0,l.eW)(" by ")),(0,l.Lk)("span",{class:"font-bold",innerHTML:(0,n.R1)(g)[0].data?(0,n.R1)(g)[0].data.author:""},null,8,kt),t[19]||(t[19]=(0,l.Lk)("br",null,null,-1)),(0,l.Lk)("span",{innerHTML:(0,n.R1)(g)[0].data?(0,n.R1)(g)[0].data.description:""},null,8,bt),"custom"==(0,n.R1)(o).story[(0,n.R1)(m)].storyformats?((0,l.uX)(),(0,l.CE)("div",gt,[t[17]||(t[17]=(0,l.eW)(" Write the url to the format.js. ")),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>(0,n.R1)(o).story[(0,n.R1)(m)].customFormatUrl=e),type:"text",placeholder:"Write the url",class:"input input-bordered w-full"},null,512),[[s.Jo,(0,n.R1)(o).story[(0,n.R1)(m)].customFormatUrl]])])):(0,l.Q3)("",!0),(0,n.R1)(o).story[(0,n.R1)(m)].storyformats?(0,l.Q3)("",!0):((0,l.uX)(),(0,l.CE)("div",ft," Choose Story Formats. To See It's Descriptions And Link To It's Documentations. "))]),t[22]||(t[22]=(0,l.Lk)("div",{class:"divider m-0"},null,-1)),(0,l.Lk)("div",yt,[t[20]||(t[20]=(0,l.Lk)("label",{class:"label"},[(0,l.Lk)("span",{class:"label-text"},"Story Will Start At : ")],-1)),(0,l.bo)((0,l.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>(0,n.R1)(o).story[(0,n.R1)(m)].startNode=e),class:"select select-bordered w-full"},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)((0,n.R1)(o).story[(0,n.R1)(m)].passage,((e,t)=>((0,l.uX)(),(0,l.CE)("option",{value:e.pid,key:t},(0,r.v_)(e.name),9,vt)))),128))],512),[[s.u1,(0,n.R1)(o).story[(0,n.R1)(m)].startNode]])]),(0,l.Lk)("div",Lt,[t[21]||(t[21]=(0,l.Lk)("label",{class:"label"},[(0,l.Lk)("span",{class:"label-text"},"IFID")],-1)),(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>(0,n.R1)(o).story[(0,n.R1)(m)].ifid=e),disabled:"",type:"text",class:"input input-disabled input-bordered w-full"},null,512),[[s.Jo,(0,n.R1)(o).story[(0,n.R1)(m)].ifid]])]),t[23]||(t[23]=(0,l.Lk)("div",{class:"divider"},null,-1)),(0,l.Lk)("button",{onClick:t[9]||(t[9]=e=>y((0,n.R1)(o).story[(0,n.R1)(m)].title,JSON.stringify((0,n.R1)(o).story[(0,n.R1)(m)]))),class:"btn btn-primary btn-block my-3"},"Backup This Story."),(0,l.Lk)("button",{onClick:t[10]||(t[10]=e=>f((0,n.R1)(o).story[(0,n.R1)(m)].title,(0,n.R1)(o).story[(0,n.R1)(m)])),class:"btn btn-primary btn-block my-3"},"Export As Twee."),t[24]||(t[24]=(0,l.Lk)("p",{class:"text-sm py-2"},"When U Export As Twee.",-1)),t[25]||(t[25]=(0,l.Lk)("ul",{class:"list-disc ml-4"},[(0,l.Lk)("li",null,"Any Image U Use With TweezeL Image Picker Will Be Exported As Base64 Image."),(0,l.Lk)("li",null,"Any Image U Use With TweezeL Image Picker And Not Used, It Will Not Exported."),(0,l.Lk)("li",null,"THIS FEATURE IS NOT TESTED MUCH. IT IS TESTED FOR THIS APP AND TWINE AND FOR ME IT IS WORKING.")],-1))])):(0,l.Q3)("",!0),"css"==u.value?((0,l.uX)(),(0,l.CE)("div",wt,[(0,l.bF)((0,n.R1)(Ve.bE),{modelValue:(0,n.R1)(o).story[(0,n.R1)(m)].userStyle,"onUpdate:modelValue":t[11]||(t[11]=e=>(0,n.R1)(o).story[(0,n.R1)(m)].userStyle=e),placeholder:"Write The Code Here...",style:(0,r.Tr)({"flex-grow":"1","background-color":(0,n.R1)(o).codeDarkTheme?"":"white",color:(0,n.R1)(o).codeDarkTheme?"":"black"}),autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:h},null,8,["modelValue","style"])])):(0,l.Q3)("",!0),"js"==u.value?((0,l.uX)(),(0,l.CE)("div",xt,[(0,l.bF)((0,n.R1)(Ve.bE),{modelValue:(0,n.R1)(o).story[(0,n.R1)(m)].userScript,"onUpdate:modelValue":t[12]||(t[12]=e=>(0,n.R1)(o).story[(0,n.R1)(m)].userScript=e),placeholder:"Write The Code Here...",style:(0,r.Tr)({"flex-grow":"1","background-color":(0,n.R1)(o).codeDarkTheme?"":"white",color:(0,n.R1)(o).codeDarkTheme?"":"black"}),autofocus:!0,"indent-with-tab":!0,"tab-size":2,extensions:k},null,8,["modelValue","style"])])):(0,l.Q3)("",!0)],4))}};const Tt=Ct;var St=Tt;const Rt={key:0,class:"p-2"},Et={key:1,class:"grow flex flex-col"},It={class:"grow flex flex-col bg-white relative"},At={class:"absolute bottom-0 left-0"},Ft=["srcdoc"],Mt={class:"grow flex flex-col"},jt={class:"navbar bg-primary shadow-lg text-primary-content"},Wt={key:0,class:"p-4"},Bt={key:1,class:"p-4"},Nt={role:"alert",class:"alert alert-success shadow-lg flex flex-row"},_t={id:"close-modal",class:"modal modal-bottom sm:modal-middle"},zt={class:"modal-box relative"},Dt={class:"modal-action"},Pt="1.5.1";var Ot={__name:"PlayStory",setup(e){const t=(0,c.j_)({position:"top",duration:2e3,dismissible:!0}),o=i(),a=(0,S.lq)(),u=a.params.id,d=e=>e.ifid==u,p=o.story.findIndex(d),m=(0,n.KR)(""),h=(0,n.KR)(!1),k=(0,n.KR)(!0);sessionStorage.clear();const b=(0,n.KR)([]);function g(e){let t="",s="";for(let l=0;l<o.story[p].passage.length;l++){let a=o.story[p].passage[l].data,r=a.match(/%img%[\s\S]*?%/gi);r&&r.length>0&&r.map((e=>{let t=e.split("%img%").join("").slice(0,-1).trim();const s=o.story[p].imageList.find((e=>e.name.trim()==t));s&&(a=a.replace(e,s.src))}));let n=a.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;");s='<tw-passagedata pid="'+o.story[p].passage[l].pid+'" name="'+o.story[p].passage[l].name+'" tags="'+o.story[p].passage[l].tags+'" position="100,100" size="100,100">'+n+"</tw-passagedata>",t+=s,t='<tw-storydata name="'+o.story[p].title+'" startnode="'+o.story[p].startNode+'" creator="TweezeL" creator-version="'+Pt+'" ifid="'+o.story[p].ifid+'" zoom="1" format="'+e.name+'" format-version="'+e.version+'" options="" hidden><style role="stylesheet" id="twine-user-stylesheet" type="text/twine-css">'+o.story[p].userStyle+'</style><script role="script" id="twine-user-script" type="text/twine-javascript">'+o.story[p].userScript+"<\/script>"+t+"</tw-storydata>"}let a=e.source.replace(/{{STORY_NAME}}/g,o.story[p].title).replace(/{{STORY_DATA}}/g,t);m.value=a}function f(){k.value=!1,"play"==o.playState&&(h.value=!0)}0==o.story[p].passage.length&&b.value.push("No Passage To Play With. Add Some Passage First."),o.story[p].storyformats||b.value.push("Story Formats Is Not Set. Set First In Global Story Setting."),"custom"==o.story[p].storyformats?fetch(o.story[p].customFormatUrl).then((e=>e.text())).then((e=>{let t="";e.split('"setup": function(){').length>1?(t=e.split('"setup": function(){')[0].slice(0,-1)+"}",t=t.slice(19),t=JSON.parse(t)):(t=";"==e.substring(e.length-1)?e.slice(0,-2):e.slice(0,-1),t=t.slice(19),t=JSON.parse(t)),g(t)})).catch((e=>{t.error("Something wrong... Check your internet connection..."),console.log("error",e)})):o.storyFormatList.forEach((e=>{e.val==o.story[p].storyformats&&e.data&&g(e.data)})),(0,l.wB)((()=>m.value),(e=>{0!==e.length&&"export"===o.playState&&L()}));const y=e=>{const t=e,o=t.replace(/[^a-z0-9]/gi,"_");return o};function v(e,o){const s=y(e),a=s+".html";var l=document.createElement("a");l.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(o)),l.setAttribute("download",a),l.style.display="none",document.body.appendChild(l),l.click(),document.body.removeChild(l),t.success("Done...")}function L(){v(o.story[p].title,m.value)}const w=()=>{document.getElementById("close-modal").showModal()};return(e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"flex h-screen overflow-auto flex-col",style:(0,r.Tr)({height:(0,n.R1)(o).innerHeight+"px"})},[b.value.length>0?((0,l.uX)(),(0,l.CE)("div",Rt,[t[6]||(t[6]=(0,l.eW)(" There Is Some Error In Your Story. Here Is The Error(s) : ")),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(b.value,((e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t},(0,r.v_)(t+1)+". "+(0,r.v_)(e),1)))),128)),(0,l.Lk)("span",{class:"text-primary-content underline",onClick:t[0]||(t[0]=t=>e.$router.back())},"Click Here To Go Back.")])):((0,l.uX)(),(0,l.CE)("div",Et,[(0,l.bo)((0,l.Lk)("div",It,[(0,l.Lk)("div",At,[(0,l.Lk)("button",{onClick:t[1]||(t[1]=e=>w()),tabindex:"0",class:"btn btn-ghost btn-square btn-xs bg-black/20"},t[7]||(t[7]=[(0,l.Lk)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-3 h-3 text-white"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),(0,l.Lk)("iframe",{id:"storyWindow",class:"grow",srcdoc:m.value,onLoad:t[2]||(t[2]=e=>f())},null,40,Ft)],512),[[s.aG,h.value]]),(0,l.bo)((0,l.Lk)("div",Mt,[(0,l.Lk)("div",jt,[(0,l.Lk)("button",{tabindex:"0",class:"btn btn-ghost btn-square",onClick:t[3]||(t[3]=t=>e.$router.back())},t[8]||(t[8]=[(0,l.Lk)("svg",{fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5 self-center m-2"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 12h-15m0 0l6.75 6.75M4.5 12l6.75-6.75"})],-1)])),t[9]||(t[9]=(0,l.Lk)("div",{class:"grow truncate"},[(0,l.Lk)("div",{class:"normal-case text-xl truncate px-0 font-semibold"}," Play Story ")],-1))]),k.value?((0,l.uX)(),(0,l.CE)("div",Wt," Loading The Game... Please Wait A Bit... ")):((0,l.uX)(),(0,l.CE)("div",Bt,[(0,l.Lk)("div",Nt,[t[10]||(t[10]=(0,l.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"stroke-current flex-shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24"},[(0,l.Lk)("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),t[11]||(t[11]=(0,l.Lk)("span",{class:"w-full"},"Export Completed... Click The Download Button To Download Your Exported Story...",-1)),(0,l.Lk)("div",null,[(0,l.Lk)("button",{onClick:t[4]||(t[4]=e=>L()),class:"btn btn-info"}," Download. ")])])]))],512),[[s.aG,!h.value]])])),(0,l.Lk)("dialog",_t,[(0,l.Lk)("div",zt,[t[13]||(t[13]=(0,l.Lk)("form",{method:"dialog"},[(0,l.Lk)("button",{class:"btn btn-error btn-sm btn-circle btn-ghost absolute right-2 top-2 text-error"}," ✕ ")],-1)),t[14]||(t[14]=(0,l.Lk)("h3",{class:"font-bold text-lg mb-4"},"Quit Preview...???",-1)),(0,l.Lk)("div",Dt,[t[12]||(t[12]=(0,l.Lk)("form",{method:"dialog"},[(0,l.Lk)("button",{class:"btn btn-ghost"},"No.")],-1)),(0,l.Lk)("button",{onClick:t[5]||(t[5]=t=>e.$router.back()),for:"create-modal",class:"btn btn-success"}," Yes. ")])])])],4))}};const Ut=Ot;var Ht=Ut;const Gt=(0,S.aE)({history:(0,S.LA)("/tweezel/"),routes:[{path:"/",name:"home",component:ue},{path:"/story/:id",name:"story",component:Je},{path:"/story/:id/edit/:pid",name:"edit story",component:lt},{path:"/story/:id/global",name:"global setting",component:St},{path:"/story/:id/play",name:"play story",component:Ht},{path:"/:pathMatch(.*)*",name:"NotFound",component:ue}]});var Xt=Gt,Kt=o(1688);const Jt=(0,s.Ef)(C),Vt=(0,a.Ey)();Vt.use(Kt.A),Jt.use(Vt),Jt.use(Xt),Jt.mount("#app")}},t={};function o(s){var a=t[s];if(void 0!==a)return a.exports;var l=t[s]={exports:{}};return e[s].call(l.exports,l,l.exports,o),l.exports}o.m=e,function(){var e=[];o.O=function(t,s,a,l){if(!s){var r=1/0;for(u=0;u<e.length;u++){s=e[u][0],a=e[u][1],l=e[u][2];for(var n=!0,i=0;i<s.length;i++)(!1&l||r>=l)&&Object.keys(o.O).every((function(e){return o.O[e](s[i])}))?s.splice(i--,1):(n=!1,l<r&&(r=l));if(n){e.splice(u--,1);var c=a();void 0!==c&&(t=c)}}return t}l=l||0;for(var u=e.length;u>0&&e[u-1][2]>l;u--)e[u]=e[u-1];e[u]=[s,a,l]}}(),function(){o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,{a:t}),t}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var a,l,r=s[0],n=s[1],i=s[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(a in n)o.o(n,a)&&(o.m[a]=n[a]);if(i)var u=i(o)}for(t&&t(s);c<r.length;c++)l=r[c],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(u)},s=self["webpackChunktweezel"]=self["webpackChunktweezel"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[504],(function(){return o(7137)}));s=o.O(s)})();